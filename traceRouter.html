<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>各校区的旅游路线</title>
    <link rel="stylesheet" href="./traceRouter.css" />
    <!-- 先引入 Vue -->

    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>
    <!-- <script src="https://unpkg.com/vue/dist/vue.js"></script> -->
    <!-- 引入 http-vue-loader -->
    <script src="https://unpkg.com/http-vue-loader"></script>
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    
    <script src="https://webapi.amap.com/maps?v=1.4.15&key=fc80ab32a75113402df0a426957c25e3&plugin=Map3D,AMap.DistrictLayer,AMap.Scale,AMap.ToolBar,AMap.Transfer,AMap.Geolocation,AMap.plugin,AMap.Pixel"></script>
    <script src="http://cdn.suoluomei.com/common/js2.0/axios/axios.min.js"></script>

    <!-- 引入腾讯api -->
    <script src="https://map.qq.com/api/js?v=2.exp&key=BPQBZ-XU3L6-B7RS3-MNX25-UZBV2-WDBVF"></script>
    <script src="https://map.qq.com/api/gljs?v=1.exp&key=BPQBZ-XU3L6-B7RS3-MNX25-UZBV2-WDBVF&libraries=geometry"></script>
    <!-- 引入腾讯模块CDN -->
    <script  type="text/javascript" src="https://3gimg.qq.com/lightmap/components/geolocation/geolocation.min.js"></script>

    <script type="text/javascript" src="https://res.wx.qq.com/open/js/jweixin-1.3.2.js"></script>
    <script src="https://webapi.amap.com/ui/1.1/main.js"></script>
    <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
</head>
<body>
    <div id="app">
        <div class="divTitlebar" >
            <div class="divTitlebarLeft" >
                <img src="/img/back1.png" @click='goToBackPage'/>
            </div>
            <div class="divTitlebarCenter" >
                <span>{{titleName}}</span>
            </div>
        </div>
        <!-- 地图以及手绘地图的贴图 -->
        <div id="mapContaimer"></div>

        <!-- 点击其中的图表出现弹框 -->
        <div class="Dialog" v-if="isShowDialog">
            <div class="dialog-content">
                <div class="dialog-left">
                    <div class="dialog-left-text">{{titleName}}</div>
                    <div class="dialog-left-point">
                        <span>{{selectedPointArray.length}}处景观</span>
                        <span class="left-time">{{timer}}</span>
                        <span class="left-distance">{{distance}}</span>
                    </div>
                    <div class="dialog-left-labels">
                        <div 
                            class="dialog-left-label"
                            v-for="item in labelsArr" 
                            :key="item.id" 
                            :label="item.label" 
                            :value="item.id"
                        >
                            {{item.label}}
                        </div>
                    </div>
                </div>
                <div class="dialog-right">
                    <div class="dialog-right-radis" @click="goToStart">
                        <span class="dialog-right-text">开始浏览</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 浏览的弹框，关闭掉首页的浏览弹框 -->
        <div class="detail-dialog" 
            v-if="!isShowDialog" 
            v-tap="vuetouch" 
            v-longtap="{fn:vuetouch,name:'长按'}" 
            v-swipeleft="{fn:vuetouch,name:'左滑'}"
            v-swiperight="{fn:vuetouch,name:'右滑'}"
        >
            <div 
                class="detail-dialog-content" 
                v-for="(item,index) in allDataArr"
                :key="item.PoiID"
                v-if="index == selectedIndex"
            >
                <div class="title">
                    <span class="title-number">{{index+1}}</span>
                    <span class="title-content">{{item.PoiName}}</span>
                </div>
                <div class="distance">
                    <span>距您{{withDistance}}</span>
                </div>
                <div class="des" @click='goToWxDetail'>
                    <span >{{item.shortDescribe}}</span>
                </div>
            </div>
            <div class="contentOpt" >
                <div class="optList">
                    <div class="optDetail">
                        <span class="optDetailSpan">
                            <img class="detailImg" src="./img/3d-detail.png">
                        </span>
                        <span @click='goToWxDetail'>详情</span>
                    </div>
                    <div class="optAllPic">
                        <span class="optDetailSpan">
                            <img class="detailImg" src="./img/shijing.png">
                        </span>
                        <span @click='goToWxAllPic'>街景</span>
                    </div>
                    <div class="optPath">
                        <span class="optDetailSpan">
                            <img class="detailImg" src="./img/go.png">
                        </span>
                        <span @click='goToWxPath'>前往</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        Vue.use(httpVueLoader);

        new Vue({
            el: '#app',
            data: function () {
                return { 
                    titleName: '',
                    oneDescription: {},
                    pageName0: '游客的一天',
                    pageName: '团橘的一天',
                    lngAndLatList: [
                        {
                            id: 1,
                            longitude: 117.060109, // 经度
                            latitude: 36.675668,
                            level: 16,
                            leftButton: [36.671882, 117.055539],
                            rightTop: [36.68114, 117.064508],
                            markerImg: './img/3d-zhongxin3.png',
                            studentPath:[
                                [36.672, 117.0602], // 校区正门
                                [36.673259, 117.060173], //大成广场
                                [36.673835,117.06013], // 图书馆
                                [36.673921,117.060125],
                                [36.673921,117.059299],
                                [36.674201,117.059299], // 蒋维崧雕像
                                [36.675367,117.059304], // 历史系八大教授群像
                                [36.67538,117.057888], // 冯沅君陆侃如雕像
                                [36.67541,117.057464],
                                [36.675745,117.05747], // 学生公寓3号楼
                                [36.67621,117.057475], // 学生公寓4号楼
                                [36.676189,117.057475],
                                [36.676288,117.05747],
                                [36.676249,117.058253],
                                [36.676275,117.058661], // 齐园餐厅
                                [36.676318,117.05931],
                                [36.67646,117.059315],
                                [36.676761,117.059315],
                                [36.676795,117.059304], //知新楼
                                [36.677131,117.059304], // 体育场
                                [36.677092,117.05813],
                                [36.677565,117.058124], // 文学生活馆
                                [36.678482,117.058092], // 天猫校园
                                [36.679015,117.058087], //北门
                                [36.678989,117.058698],
                                [36.678985,117.058956],
                                [36.67905,117.059621],
                                [36.679075,117.0599],
                                // [36.679144,117.060254],
                                [36.678959,117.060833],
                                [36.678964,117.061042],
                                [36.678611,117.061101],
                                [36.677195,117.061177], //知新楼B
                                [36.677195,117.062603], // 知新楼C
                                [36.676636,117.062614], // 13号宿舍楼
                                [36.676374,117.062614],
                                [36.675853,117.062614],//留学生公寓
                                [36.675384,117.062587],
                                [36.675384,117.061987], //成仿吾雕像
                                [36.675388,117.06167], // 孔子雕像
                                [36.675393,117.06094],
                                [36.674954,117.06094],
                                [36.674967,117.062201], // 公教楼
                                [36.674984,117.062598],
                                [36.674326,117.062603], // 生命科学园
                                [36.674321,117.062137], //晶体研究所
                                [36.6743,117.060924],
                                [36.673448,117.060914], // 明德楼A
                                [36.673465,117.062582],
                                [36.672673,117.06255],
                                [36.672652,117.060683],
                                [36.672321,117.060662]
                            ],
                            studentPointArr: [
                                {
                                    id: '1',
                                    value: '校区正门',
                                    labelImg: './img/zx1.png'
                                },
                                {
                                    id: '2',
                                    value: '大成广场',
                                    labelImg: './img/zx2.png'
                                },
                                {
                                    id: '3',
                                    value: '图书馆',
                                    labelImg: './img/zx3.png'
                                },
                                {
                                    id: '4',
                                    value: '蒋维崧雕像',
                                    labelImg: './img/zx4.png'
                                },
                                {
                                    id: '5',
                                    value: '八大教授雕像',
                                    labelImg: './img/zx5.png'
                                },
                                {
                                    id: '6',
                                    value: '冯沅君陆侃如雕像',
                                    labelImg: './img/zx6.png'
                                },
                                {
                                    id: '7',
                                    value: '学生公寓3号楼',
                                    labelImg: './img/zx7.png'
                                },
                                {
                                    id: '8',
                                    value: '学生公寓4号楼',
                                    labelImg: './img/zx8.png'
                                },
                                {
                                    id: '9',
                                    value: '综合服务楼(食堂)',
                                    labelImg: './img/zx9.png'
                                },
                                {
                                    id: '10',
                                    value: '知新楼A区',
                                    labelImg: './img/zx10.png'
                                },
                                {
                                    id: '11',
                                    value: '体育场',
                                    labelImg: './img/zx11.png'
                                },
                                {
                                    id: '12',
                                    value: '文学生活馆',
                                    labelImg: './img/zx12.png'
                                },
                                {
                                    id: '13',
                                    value: '中心校区北门',
                                    labelImg: './img/zx13.png'
                                },
                                {
                                    id: '14',
                                    value: '中心校区体育馆',
                                    labelImg: './img/zx14.png'
                                },
                                {
                                    id: '15',
                                    value: '知新楼B区',
                                    labelImg: './img/zx15.png'
                                },
                                {
                                    id: '16',
                                    value: '知新楼C区',
                                    labelImg: './img/zx16.png'
                                },
                                {
                                    id: '17',
                                    value: '学生公寓13号楼',
                                    labelImg: './img/zx17.png'
                                },
                                {
                                    id: '18',
                                    value: '留学生公寓',
                                    labelImg: './img/zx18.png'
                                },
                                {
                                    id: '19',
                                    value: '孔子雕像',
                                    labelImg: './img/zx19.png'
                                },
                                {
                                    id: '20',
                                    value: '成仿吾雕像',
                                    labelImg: './img/zx20.png'
                                },
                                {
                                    id: '21',
                                    value: '公教楼',
                                    labelImg: './img/zx21.png'
                                },
                                {
                                    id: '22',
                                    value: '生命科学院',
                                    labelImg: './img/zx22.png'
                                },
                                {
                                    id: '23',
                                    value: '晶体材料研究所',
                                    labelImg: './img/zx23.png'
                                },
                                {
                                    id: '24',
                                    value: '明德楼A区',
                                    labelImg: './img/zx24.png'
                                }
                            ],
                            studentPath1: [
                                [36.672, 117.0602], // 校区正门
                                [36.673259, 117.060173], //大成广场
                                [36.673835,117.06013], // 图书馆
                                [36.673921,117.060125],
                                [36.673921,117.059299],
                                [36.674201,117.059299], // 蒋维崧雕像
                                [36.675367,117.059304], // 历史系八大教授群像
                                [36.67538,117.057888], // 冯沅君陆侃如雕像
                                [36.67541,117.057464],
                                [36.675745,117.05747], // 学生公寓3号楼
                                [36.67621,117.057475], // 学生公寓4号楼
                                [36.676189,117.057475],
                                [36.676847,117.057475],
                                [36.677122,117.057475],
                                [36.677131,117.05931],
                                [36.677122,117.060447],
                                [36.677182,117.061187],
                                [36.677182,117.062614],
                                [36.677157,117.062689],
                                [36.677195,117.062603], // 知新楼C
                                [36.676636,117.062614], // 13号宿舍楼
                                [36.676374,117.062614],
                                [36.675853,117.062614],//留学生公寓
                                [36.675384,117.062587],
                                [36.675384,117.061987], //成仿吾雕像
                                [36.675388,117.06167], // 孔子雕像
                                [36.675393,117.06094],
                                [36.674954,117.06094],
                                [36.674967,117.062201], // 公教楼
                                [36.674984,117.062598],
                                [36.674326,117.062603], // 生命科学园
                                [36.674321,117.062137], //晶体研究所
                                [36.6743,117.060924],
                                [36.673448,117.060914], // 明德楼A
                                [36.673465,117.062582],
                                [36.672673,117.06255],
                                [36.672652,117.060683],
                                [36.672321,117.060662]
                            ],
                            studentPointArr1: [
                                {
                                    id: '1',
                                    value: '校区正门',
                                    labelImg: './img/zx1.png'
                                },
                                {
                                    id: '2',
                                    value: '图书馆',
                                    labelImg: './img/zx3.png'
                                },
                                {
                                    id: '3',
                                    value: '八大教授雕像',
                                    labelImg: './img/zx5.png'
                                },
                                {
                                    id: '4',
                                    value: '学生公寓3号楼',
                                    labelImg: './img/zx7.png'
                                },
                                {
                                    id: '5',
                                    value: '综合服务楼(食堂)',
                                    labelImg: './img/zx9.png'
                                },
                                {
                                    id: '6',
                                    value: '体育场',
                                    labelImg: './img/zx11.png'
                                },
                                {
                                    id: '7',
                                    value: '中心校区体育馆',
                                    labelImg: './img/zx14.png'
                                },
                                {
                                    id: '8',
                                    value: '知新楼C区',
                                    labelImg: './img/zx16.png'
                                },
                                {
                                    id: '9',
                                    value: '学生公寓13号楼',
                                    labelImg: './img/zx17.png'
                                },
                                {
                                    id: '10',
                                    value: '留学生公寓',
                                    labelImg: './img/zx18.png'
                                },
                                {
                                    id: '11',
                                    value: '孔子雕像',
                                    labelImg: './img/zx19.png'
                                },
                                {
                                    id: '12',
                                    value: '成仿吾雕像',
                                    labelImg: './img/zx20.png'
                                },
                                {
                                    id: '13',
                                    value: '公教楼',
                                    labelImg: './img/zx21.png'
                                },
                                {
                                    id: '14',
                                    value: '生命科学院',
                                    labelImg: './img/zx22.png'
                                },
                                {
                                    id: '15',
                                    value: '晶体材料研究所',
                                    labelImg: './img/zx23.png'
                                },
                                {
                                    id: '16',
                                    value: '明德楼A区',
                                    labelImg: './img/zx24.png'
                                }
                            ]
                        },
                        {
                            id: 6,
                            longitude: 117.1402000,
                            latitude: 36.6670740,
                            level: 16,
                            markerImg: './img/3d-software.png',
                            leftButton: [36.66381918828988,117.13619519803706],
                            rightTop: [36.671081629165755,117.14475738946805],
                            studentPath: [
                                [36.66718594256356,117.13769811200814],
                                [36.66733082637737,117.13798208040862],
                                [36.66820489327115,117.13734395872143],
                                [36.66861375542519,117.13824128541671],
                                [36.66779388403111,117.13894181461592],
                                [36.667487302848976,117.13910859405678],
                                [36.66735052868288,117.1392449967816],
                                [36.667220112899294,117.13946181515666],
                                [36.66696435385604,117.1395288878424],
                                [36.66664314189118,117.13979099905964],
                                [36.667013087799035,117.14050953949504],
                                [36.66794456850239,117.14085891215655],
                                [36.66748964830152,117.14230342674557],
                                [36.66734758977944,117.14170054057809],
                                [36.667194470178835,117.14158106110631],
                                [36.666788735878605,117.14171614988379],
                                [36.66695464451045,117.14211195414543],
                                [36.6671429224818,117.14329370592941],
                                [36.66658611645028,117.14344083072729],
                                [36.66643204894431,117.1418079297465],
                                [36.666080282213066,117.14151925635952],
                                [36.665180219410544,117.13963766409552],
                                [36.66665847057116,117.13849653729017],
                                [36.66651002929276,117.1382313087031]
                            ],
                            studentPointArr: [
                                {
                                    id: '1',
                                    value: '西北门',
                                    labelImg: './img/rjy1.png'
                                },
                                {
                                    id: '2',
                                    value: '实验楼',
                                    labelImg: './img/rjy2.png'
                                },
                                {
                                    id: '3',
                                    value: '软件园图书馆',
                                    labelImg: './img/rjy3.png'
                                },
                                {
                                    id: '4',
                                    value: '教学楼',
                                    labelImg: './img/rjy4.png'
                                },
                                {
                                    id: '5',
                                    value: '圆形报告厅',
                                    labelImg: './img/rjy5.png'
                                },
                                {
                                    id: '6',
                                    value: '学生餐厅',
                                    labelImg: './img/rjy6.png'
                                },
                                {
                                    id: '7',
                                    value: '1号宿舍楼',
                                    labelImg: './img/rjy7.png'
                                },
                                {
                                    id: '8',
                                    value: '2号宿舍楼',
                                    labelImg: './img/rjy8.png'
                                },
                                {
                                    id: '9',
                                    value: '5号宿舍楼',
                                    labelImg: './img/rjy9.png'
                                },
                                {
                                    id: '10',
                                    value: '4号宿舍楼',
                                    labelImg: './img/rjy10.png'
                                },
                                {
                                    id: '11',
                                    value: '3号宿舍楼',
                                    labelImg: './img/rjy11.png'
                                },
                                {
                                    id: '12',
                                    value: '运动场',
                                    labelImg: './img/rjy12.png'
                                },
                                {
                                    id: '13',
                                    value: '西南门',
                                    labelImg: './img/rjy13.png'
                                },
                            ],
                            studentPath1: [
                                [36.667196455438884,117.13773474838752],
                                [36.6677338150365,117.13875269253742],
                                [36.667878716676206,117.13885725483806],
                                [36.66826626616955,117.13855846446415],
                                [36.66855206461735,117.13913336492317],
                                [36.66852087521179,117.13988118809368],
                                [36.667507033553576,117.14063589745649],
                                [36.66792698643781,117.14086880351408],
                                [36.66746640016651,117.14234170687416],
                                [36.66732655608194,117.14167509511071],
                                [36.66719826811829,117.1415562053495],
                                [36.66672845714702,117.14172736097976],
                                [36.66699737581382,117.14050763944431],
                                [36.6666396643392,117.1397794851755],
                                [36.667054664624416,117.13947160045507],
                                [36.666523725607696,117.13825565803108]
                            ],
                            studentPointArr1: [
                                {
                                    id: '1',
                                    value: '西北门',
                                    labelImg: './img/rjy1.png'
                                },
                                {
                                    id: '2',
                                    value: '实验楼',
                                    labelImg: './img/rjy2.png'
                                },
                                {
                                    id: '3',
                                    value: '软件园图书馆',
                                    labelImg: './img/rjy3.png'
                                },
                                {
                                    id: '4',
                                    value: '教学楼',
                                    labelImg: './img/rjy4.png'
                                },
                                {
                                    id: '5',
                                    value: '5号宿舍楼',
                                    labelImg: './img/rjy9.png'
                                },
                                {
                                    id: '6',
                                    value: '4号宿舍楼',
                                    labelImg: './img/rjy10.png'
                                },
                                {
                                    id: '7',
                                    value: '1号宿舍楼',
                                    labelImg: './img/rjy7.png'
                                },
                                {
                                    id: '8',
                                    value: '学生餐厅',
                                    labelImg: './img/rjy6.png'
                                },
                                {
                                    id: '9',
                                    value: '软件学院办公楼',
                                    labelImg: './img/rjy5.png'
                                },
                                {
                                    id: '10',
                                    value: '西南门',
                                    labelImg: './img/rjy13.png'
                                },
                            ]
                        },
                        {
                            id: 2,
                            longitude: 117.068195,
                            latitude: 36.687395,
                            level: 16,
                            markerImg: './img/3d-hongjialou1.png',
                            leftButton: [36.684584,117.064832],
                            rightTop: [36.690546,117.072245],
                            studentPath: [
                                [36.6850669657914,117.06950207566229],
                                [36.68568516317067,117.06939282969222],
                                [36.68615294553077,117.06916862524758],
                                [36.686065917085664,117.0683456729198],
                                [36.68669366667544,117.06827373553836],
                                [36.686683447808456,117.06870403007599],
                                [36.686661405233615,117.06875735152335],
                                [36.68660026755215,117.06876182057454],
                                [36.686578937393875,117.06879504101653],
                                [36.68659393607854,117.06920406030724],
                                [36.68623287147012,117.06939562834054],
                                [36.686272342227454,117.06964835961935],
                                [36.68598826632415,117.06964710008799],
                                [36.6856331068934,117.06981306892555],
                                [36.68572013853751,117.07083628478745],
                                [36.68644258363011,117.07062948674718],
                                [36.68642314377022,117.07014795326575],
                                [36.68692988409428,117.07011774105536],
                                [36.686938630007845,117.06984584878819],
                                [36.68697284234601,117.06981148103546],
                                [36.68721209495231,117.06980751668414],
                                [36.68762647205763,117.06934904118452],
                                [36.68765322265853,117.06934720300535],
                                [36.68781082748895,117.06947997093289],
                                [36.68792739061799,117.06947532646052],
                                [36.68832982418705,117.06945526710047],
                                [36.68875523033599,117.06943412111764],
                                [36.68870790163989,117.06851547107851],
                                [36.6882961119449,117.06854012057556],
                                [36.68821022032308,117.0679844889487],
                                [36.68843242685379,117.06772584250018],
                                [36.688760626511474,117.06761263129545],
                                [36.68889664086105,117.06743988112385],
                                [36.6889192588411,117.06734042552375],
                                [36.68891491970486,117.0669731453786],
                                [36.68906942200405,117.06672364467931],
                                [36.688914517468675,117.06583636955042],
                                [36.68728900050495,117.06595084684875],
                                [36.68730768284043,117.06711036799948],
                                [36.68518964454889,117.06743056027574],
                                [36.6852262654018,117.06804097470945],
                                [36.68520694104754,117.06813610290499],
                                [36.68514294813458,117.06822018624518],
                                [36.6851311723747,117.06834962230027],
                                [36.68506942110529,117.0683836069195]
                            ],
                            studentPointArr: [
                                {
                                    id: '1',
                                    value: '洪家楼校区东南门',
                                    labelImg: './img/hjl1.png'
                                },
                                {
                                    id: '2',
                                    value: '法学科研楼',
                                    labelImg: './img/hjl2.png'
                                },
                                {
                                    id: '3',
                                    value: '图书馆',
                                    labelImg: './img/hjl3.png'
                                },
                                {
                                    id: '4',
                                    value: '3号楼',
                                    labelImg: './img/hjl4.png'
                                },
                                {
                                    id: '5',
                                    value: '励学楼',
                                    labelImg: './img/hjl5.png'
                                },
                                {
                                    id: '6',
                                    value: '物理学院楼',
                                    labelImg: './img/hjl6.png'
                                },
                                {
                                    id: '7',
                                    value: '罗荣桓雕像',
                                    labelImg: './img/hjl7.png'
                                },
                                {
                                    id: '8',
                                    value: '13号学生公寓',
                                    labelImg: './img/hjl8.png'
                                },
                                {
                                    id: '9',
                                    value: '11号学生公寓',
                                    labelImg: './img/hjl9.png'
                                },
                                {
                                    id: '10',
                                    value: '12号学生公寓',
                                    labelImg: './img/hjl10.png'
                                },
                                {
                                    id: '11',
                                    value: '10号学生公寓',
                                    labelImg: './img/hjl11.png'
                                },
                                {
                                    id: '12',
                                    value: '第三食堂',
                                    labelImg: './img/hjl12.png'
                                },
                                {
                                    id: '13',
                                    value: '石桥',
                                    labelImg: './img/hjl13.png'
                                },
                                {
                                    id: '14',
                                    value: '艺术学院楼',
                                    labelImg: './img/hjl14.png'
                                },
                                {
                                    id: '15',
                                    value: '体育馆',
                                    labelImg: './img/hjl15.png'
                                },
                                {
                                    id: '16',
                                    value: '洪家楼校区足球场',
                                    labelImg: './img/hjl16.png'
                                },
                                {
                                    id: '17',
                                    value: '洪家楼校区-6号楼',
                                    labelImg: './img/hjl17.png'
                                },
                                {
                                    id: '18',
                                    value: '洪家楼天主教堂',
                                    labelImg: './img/hjl18.png'
                                },
                                {
                                    id: '19',
                                    value: '洪家楼校区南门',
                                    labelImg: './img/hjl19.png'
                                },
                                {
                                    id: '20',
                                    value: '洪楼广场',
                                    labelImg: './img/hjl20.png'
                                }
                            ],
                            studentPath1: [
                                [36.6850669657914,117.06950207566229],
                                [36.68568516317067,117.06939282969222],
                                [36.68615294553077,117.06916862524758],
                                [36.686065917085664,117.0683456729198],
                                [36.68669366667544,117.06827373553836],
                                [36.68703285496524,117.06822957862528],
                                [36.68707965631553,117.06980142788075],
                                [36.68721556012798,117.0698025122606],
                                [36.687631044722494,117.06934286067917],
                                [36.68781354611891,117.06947823463906],
                                [36.68874994054045,117.06943122674761],
                                [36.68870674236582,117.06851391360965],
                                [36.68830222483566,117.06854466418008],
                                [36.688199680887486,117.06798876174366],
                                [36.68843048122175,117.06772687546118],
                                [36.68876733333309,117.06760809584421],
                                [36.688888972218535,117.06744234704058],
                                [36.68891256386235,117.06696131709964],
                                [36.689073763366515,117.06671986292622],
                                [36.6889153968678,117.06582927938416],
                                [36.68728927906701,117.06596380534688],
                                [36.687319092687055,117.06711151245804],
                                [36.686782513396494,117.06716064176442]
                            ],
                            studentPointArr1: [
                                {
                                    id: '1',
                                    value: '洪家楼校区东南门',
                                    labelImg: './img/hjl1.png'
                                },
                                {
                                    id: '2',
                                    value: '逸夫法学教学楼',
                                    labelImg: './img/hjlb2.png'
                                },
                                {
                                    id: '3',
                                    value: '图书馆',
                                    labelImg: './img/hjl3.png'
                                },
                                {
                                    id: '4',
                                    value: '罗荣桓雕像',
                                    labelImg: './img/hjl7.png'
                                },
                                {
                                    id: '5',
                                    value: '13号学生公寓',
                                    labelImg: './img/hjl8.png'
                                },
                                {
                                    id: '6',
                                    value: '11号学生公寓',
                                    labelImg: './img/hjl9.png'
                                },
                                {
                                    id: '7',
                                    value: '12号学生公寓',
                                    labelImg: './img/hjl10.png'
                                },
                                {
                                    id: '8',
                                    value: '10号学生公寓',
                                    labelImg: './img/hjl11.png'
                                },
                                {
                                    id: '9',
                                    value: '第三食堂',
                                    labelImg: './img/hjl12.png'
                                },
                                {
                                    id: '10',
                                    value: '石桥',
                                    labelImg: './img/hjl13.png'
                                },
                                {
                                    id: '11',
                                    value: '外国语学院楼',
                                    labelImg: './img/hjlb11.png'
                                },
                                {
                                    id: '12',
                                    value: '体育馆',
                                    labelImg: './img/hjl15.png'
                                },
                                {
                                    id: '13',
                                    value: '洪家楼校区-6号楼',
                                    labelImg: './img/hjl17.png'
                                }
                            ]
                        },
                        {
                            id: 3,
                            longitude: 117.028551,
                            latitude: 36.651162,
                            level: 16,
                            markerImg: './img/3d-qianfoshan3.png',
                            leftButton: [ 36.64465104904049,117.02414986356575],
                            rightTop: [36.65549825148844,117.03300446200171],
                            studentPath: [
                                [36.64889309633891,117.02890941090891],
                                [36.6506581796438,117.02873695456185],
                                [36.65059445320853,117.0276400657624],
                                [36.65087795748985,117.02729584662256],
                                [36.651451614069686,117.02717126470327],
                                [36.65144403560913,117.02757484625488],
                                [36.65123487785859,117.0275628137698],
                                [36.65114335208349,117.02764402616424],
                                [36.65120545681634,117.02809450793131],
                                [36.653266771618895,117.02794814866593],
                                [36.653384926078985,117.02919167901973],
                                [36.65131451492187,117.02940412024282],
                                [36.651302704433846,117.02971370450928],
                                [36.649807713347435,117.02993085336334],
                                [36.64972098058299,117.02900974683439],
                                [36.64735804777984,117.02900535126173],
                                [36.647299373257574,117.02917306353174],
                                [36.6470787500433,117.02919039287542],
                                [36.64706035808577,117.02985379206393],
                                [36.6463748812486,117.02985473555157],
                                [36.64640240229066,117.02827538819088],
                                [36.64707136275936,117.02827656709701],
                                [36.64708023681826,117.02806959667464],
                                [36.64743252916393,117.02808121155044],
                                [36.64744219810466,117.02706568341364],
                                [36.647637990340385,117.02708647229133],
                                [36.64764438777227,117.02888301246992],
                                [36.64829544745098,117.0288799326886]
                            ],
                            studentPointArr: [
                                {
                                    id: '1',
                                    value: '千佛山校区正门',
                                    labelImg: './img/qfs1.png'
                                },
                                {
                                    id: '2',
                                    value: '喷泉',
                                    labelImg: './img/qfs2.png'
                                },
                                {
                                    id: '3',
                                    value: '西配楼',
                                    labelImg: './img/qfs3.png'
                                },
                                {
                                    id: '4',
                                    value: '西苑餐厅',
                                    labelImg: './img/qfs4.png'
                                },
                                {
                                    id: '5',
                                    value: '校医院',
                                    labelImg: './img/qfs5.png'
                                },
                                {
                                    id: '6',
                                    value: '千佛山校区主楼',
                                    labelImg: './img/qfs6.png'
                                },
                                {
                                    id: '7',
                                    value: '北院教工4楼',
                                    labelImg: './img/qfs7.png'
                                },
                                {
                                    id: '8',
                                    value: '北院教工2楼',
                                    labelImg: './img/qfs8.png'
                                },
                                {
                                    id: '9',
                                    value: '北院教工3楼',
                                    labelImg: './img/qfs9.png'
                                },
                                {
                                    id: '10',
                                    value: '学生公寓3号楼',
                                    labelImg: './img/qfs10.png'
                                },
                                {
                                    id: '11',
                                    value: '尚德楼',
                                    labelImg: './img/qfs11.png'
                                },
                                {
                                    id: '12',
                                    value: '主楼东雕塑',
                                    labelImg: './img/qfs12.png'
                                },
                                {
                                    id: '13',
                                    value: '东配楼',
                                    labelImg: './img/qfs13.png'
                                },
                                {
                                    id: '14',
                                    value: '教学1楼',
                                    labelImg: './img/qfs14.png'
                                },
                                {
                                    id: '15',
                                    value: '南院北门',
                                    labelImg: './img/qfs15.png'
                                },
                                {
                                    id: '16',
                                    value: '图书馆前雕塑',
                                    labelImg: './img/qfs16.png'
                                },
                                {
                                    id: '17',
                                    value: '土建与水利学院楼',
                                    labelImg: './img/qfs17.png'
                                },
                                {
                                    id: '18',
                                    value: '图书馆',
                                    labelImg: './img/qfs18.png'
                                },
                                {
                                    id: '19',
                                    value: '莲花雕塑',
                                    labelImg: './img/qfs19.png'
                                },
                                {
                                    id: '20',
                                    value: '风雨操场',
                                    labelImg: './img/qfs20.png'
                                },
                            ],
                            studentPath1: [
                                [36.64889709556463,117.02878176423076],
                                [36.650670269233686,117.02865519254624],
                                [36.65065399282968,117.02831915047659],
                                [36.65110695210737,117.02827450044822],
                                [36.65121719840159,117.0280923913142],
                                [36.65185936861945,117.02803256301581],
                                [36.651947559490786,117.02933653809305],
                                [36.65129500624764,117.02942069344533],
                                [36.65129107398942,117.02970135898295],
                                [36.64982614951745,117.0299212096237],
                                [36.6496972377996,117.02898693565635],
                                [36.647372555638576,117.0290527046177],
                                [36.64726884994232,117.02917036908048],
                                [36.64707758413475,117.02917169099396],
                                [36.64705943139587,117.02985006108065],
                                [36.646383598494424,117.02984634513064],
                                [36.64639680593188,117.02827516480147],
                                [36.64706521760855,117.02828171873102],
                                [36.64709627420244,117.0288377768203],
                                [36.647276187708144,117.02884314010294],
                                [36.64734746304948,117.028896584329],
                                [36.64833199107318,117.02883913024618]
                            ],
                            studentPointArr1: [
                                {
                                    id: '1',
                                    value: '千佛山校区正门',
                                    labelImg: './img/qfs1.png'
                                },
                                {
                                    id: '2',
                                    value: '校训石碑',
                                    labelImg: './img/qfsb2.png'
                                },  
                                {
                                    id: '3',
                                    value: '西配楼',
                                    labelImg: './img/qfs3.png'
                                },
                                {
                                    id: '4',
                                    value: '千佛山校区主楼',
                                    labelImg: './img/qfs6.png'
                                },  
                                {
                                    id: '5',
                                    value: '尚德楼',
                                    labelImg: './img/qfs11.png'
                                },
                                {
                                    id: '6',
                                    value: '东配楼',
                                    labelImg: './img/qfs13.png'
                                },
                                {
                                    id: '7',
                                    value: '教学5楼',
                                    labelImg: './img/qfsb7.png'
                                },  
                                {
                                    id: '8',
                                    value: '教学1楼',
                                    labelImg: './img/qfs14.png'
                                },
                                {
                                    id: '9',
                                    value: '南院北门',
                                    labelImg: './img/qfs15.png'
                                },
                                {
                                    id: '10',
                                    value: '图书馆前雕塑',
                                    labelImg: './img/qfs16.png'
                                },  
                                {
                                    id: '11',
                                    value: '图书馆',
                                    labelImg: './img/qfs18.png'
                                },
                                {
                                    id: '12',
                                    value: '风雨操场',
                                    labelImg: './img/qfs20.png'
                                },
                            ]
                        },
                        {
                            id: 5,
                            longitude: 117.050303,
                            latitude: 36.601063,
                            level: 16,
                            leftButton: [36.594999, 117.045561],
                            rightTop: [36.606679, 117.059444],
                            markerImg: './img/3d-xinglongshan.png',
                            studentPath: [
                                [36.60345854893231,117.0495894709054],
                                [36.60219989962857,117.05076432714031],
                                [36.60113190349483,117.04898338967178],
                                [36.60095964464855,117.04887610409423],
                                [36.59870301837531,117.04885464711788],
                                [36.598681735068645,117.04851108769287],
                                [36.59682779917773,117.04901888536347],
                                [36.59682348210206,117.0492507983106],
                                [36.5967115736919,117.04981570587984],
                                [36.59663884581845,117.0499676072335],
                                [36.59652292900583,117.05003854653387],
                                [36.596479315339614,117.05005349522594],
                                [36.59609023664154,117.05005932590007],
                                [36.59603087500216,117.0501094326604],
                                [36.59600643416421,117.05123369007742],
                                [36.59619983322792,117.05199879310283],
                                [36.59667326027834,117.05201148451272],
                                [36.59671760226369,117.0520810564094],
                                [36.59673797893024,117.053381020963],
                                [36.596783139175976,117.05344711543171],
                                [36.598706725797705,117.05344349302072],
                                [36.59872361024743,117.05765117126998],
                                [36.599468343972404,117.05765922220053],
                                [36.599474663588275,117.05655439355826],
                                [36.59954982773708,117.05569147343931],
                                [36.599608695960264,117.0545411077901],
                                [36.599525219739455,117.05441461269947],
                                [36.59917884165682,117.05439346256071],
                                [36.599192114957965,117.05380144027163],
                                [36.59945574713789,117.0531662156493],
                                [36.599452314858844,117.05247172788245],
                                [36.59869973282963,117.05244899617537],
                                [36.59870515948106,117.05191704497997],
                                [36.59890345524131,117.05192806069601],
                                [36.59891130096704,117.05093675577496],
                                [36.59899453302616,117.05085369529922],
                                [36.59918562703292,117.05087456010608],
                                [36.599327010789715,117.05077616046674],
                                [36.599535425471,117.05090746046767],
                                [36.5996790766865,117.05159511307113],
                                [36.60061019201401,117.05202898479183],
                                [36.60100282499912,117.05069499263186],
                                [36.601136935283144,117.05058248754551],
                                [36.602357325088505,117.05255343889644],
                                [36.6029600915051,117.05206648377714],
                                [36.603818932635825,117.05351433190117],
                                [36.60499983824232,117.05251469769098]
                            ],
                            studentPointArr: [
                                {
                                    id: '1',
                                    value: '兴隆山校区大门',
                                    labelImg: './img/xls1.png'
                                },
                                {
                                    id: '2',
                                    value: '情人坡',
                                    labelImg: './img/xls2.png'
                                },
                                {
                                    id: '3',
                                    value: '天工桥',
                                    labelImg: './img/xls3.png'
                                },
                                {
                                    id: '4',
                                    value: '教学楼A座',
                                    labelImg: './img/xls4.png'
                                },
                                {
                                    id: '5',
                                    value: '教学楼B座',
                                    labelImg: './img/xls5.png'
                                },
                                {
                                    id: '6',
                                    value: '教学楼C座',
                                    labelImg: './img/xls6.png'
                                },{
                                    id: '7',
                                    value: '教学楼D座',
                                    labelImg: './img/xls7.png'
                                },
                                {
                                    id: '8',
                                    value: '教学楼E座',
                                    labelImg: './img/xls8.png'
                                },
                                {
                                    id: '9',
                                    value: '青年专家公寓1号楼',
                                    labelImg: './img/xls9.png'
                                },
                                {
                                    id: '10',
                                    value: '青年专家公寓2号楼',
                                    labelImg: './img/xls10.png'
                                },
                                {
                                    id: '11',
                                    value: '篮球场',
                                    labelImg: './img/xls11.png'
                                },
                                {
                                    id: '12',
                                    value: '足球场',
                                    labelImg: './img/xls12.png'
                                },
                                {
                                    id: '13',
                                    value: '学生公寓2号楼',
                                    labelImg: './img/xls13.png'
                                },
                                {
                                    id: '14',
                                    value: '学生公寓1号楼',
                                    labelImg: './img/xls14.png'
                                },
                                {
                                    id: '15',
                                    value: '欣园食堂',
                                    labelImg: './img/xls15.png'
                                },
                                {
                                    id: '16',
                                    value: '实验楼',
                                    labelImg: './img/xls16.png'
                                },
                                {
                                    id: '17',
                                    value: '讲学堂',
                                    labelImg: './img/xls17.png'
                                },
                                {
                                    id: '18',
                                    value: '图书馆',
                                    labelImg: './img/xls18.png'
                                },
                                {
                                    id: '19',
                                    value: '山东大学星',
                                    labelImg: './img/xls19.png'
                                },
                                {
                                    id: '20',
                                    value: '创新创业学院',
                                    labelImg: './img/xls20.png'
                                }
                            ],
                            studentPath1: [
                                [36.60345854893231,117.0495894709054],
                                [36.60219989962857,117.05076432714031],
                                [36.60113190349483,117.04898338967178],
                                [36.60095964464855,117.04887610409423],
                                [36.59870301837531,117.04885464711788],
                                [36.598724079621704,117.05441019812167],
                                [36.59918988988537,117.05438618509993],
                                [36.599187228703286,117.05383622887666],
                                [36.599310161430736,117.05346669395328],
                                [36.59945961354875,117.05313604523656],
                                [36.599480373530845,117.0524651429505],
                                [36.602401744574664,117.05252573747316],
                                [36.60160892313214,117.05128947377534],
                                [36.60211123890728,117.05083410667714],
                                [36.60227473651598,117.05102453045345],
                                [36.60352626161498,117.04986312987694]
                            ],
                            studentPointArr1: [
                                {
                                    id: '1',
                                    value: '兴隆山校区大门',
                                    labelImg: './img/xls1.png'
                                },
                                {
                                    id: '2',
                                    value: '天工桥',
                                    labelImg: './img/xls3.png'
                                },
                                {
                                    id: '3',
                                    value: '教学楼A座',
                                    labelImg: './img/xls4.png'
                                },
                                {
                                    id: '4',
                                    value: '教学楼B座',
                                    labelImg: './img/xls5.png'
                                },
                                {
                                    id: '5',
                                    value: '教学楼C座',
                                    labelImg: './img/xls6.png'
                                },
                                {
                                    id: '6',
                                    value: '教学楼D座',
                                    labelImg: './img/xls7.png'
                                },
                                {
                                    id: '7',
                                    value: '教学楼E座',
                                    labelImg: './img/xls8.png'
                                },
                                {
                                    id: '8',
                                    value: '兴隆山体育场',
                                    labelImg: './img/xlsb8.png'
                                },
                                {
                                    id: '9',
                                    value: '体育馆',
                                    labelImg: './img/xlsb9.png'
                                },
                                {
                                    id: '10',
                                    value: '足球场',
                                    labelImg: './img/xls12.png'
                                },
                                {
                                    id: '11',
                                    value: '学生公寓1号楼',
                                    labelImg: './img/xls14.png'
                                },
                                {
                                    id: '12',
                                    value: '欣园食堂',
                                    labelImg: './img/xls15.png'
                                },
                                {
                                    id: '13',
                                    value: '实验楼',
                                    labelImg: './img/xls16.png'
                                },
                                {
                                    id: '14',
                                    value: '图书馆',
                                    labelImg: './img/xls18.png'
                                }
                            ]
                        },
                        {
                            id: 4,
                            longitude: 117.018274,
                            latitude: 36.652161,
                            level: 16,
                            leftButton: [36.64884,117.014293],
                            rightTop: [36.655364,117.022919],
                            markerImg: './img/3d-baotuquan.png',
                            studentPath: [
                                [36.654958,117.016579], // 西北门
                                [36.654399,117.016632],
                                [36.654382,117.015817],
                                [36.654321,117.01527],
                                [36.654339,117.015152], // 人工喉实验室
                                [36.653917,117.015163],
                                [36.653865,117.015806],
                                [36.653917,117.016096], // 电镜楼
                                [36.653891,117.016504],
                                [36.653633,117.016514], // 教学一楼
                                [36.653383,117.016536],
                                [36.652987,117.016557], //教学二楼
                                [36.652548,117.016611], // 教学四楼
                                [36.651929,117.016643],
                                [36.651868,117.016643],//教学八楼
                                [36.651851,117.017169],
                                [36.65186,117.017705],
                                [36.651868,117.017974],
                                [36.651558,117.017984],
                                [36.651507,117.017995],
                                [36.651111,117.017974],
                                [36.650681,117.017984], // 操场
                                [36.649759,117.017984],
                                [36.649725,117.018671],
                                [36.649759,117.019755],
                                [36.650044,117.019733], //6号公寓
                                [36.650896,117.019744], //体育馆
                                [36.652006,117.019679],
                                [36.651937,117.01895],
                                [36.651937,117.018403], // 教学八楼
                                [36.6526,117.018403], // 教学7楼
                                [36.652617,117.018167],
                                [36.652583,117.018059],
                                [36.653056,117.018059],
                                [36.653598,117.018027], // 喷泉
                                [36.653616,117.018896], // 教学五楼
                                [36.653125,117.018886], // 学生公寓400号楼
                                [36.652677,117.018961], // 图书馆
                                [36.65272,117.020334],
                                [36.654192,117.020205], // 食堂
                                [36.654623,117.020205], //口腔医学院
                                [36.654554,117.01866], //公共卫生
                                [36.654605,117.018188],
                                [36.654545,117.017373],//综合科研楼
                            ],
                            studentPointArr: [
                                {
                                    id: '1',
                                    value: '西北门',
                                    labelImg: './img/btq1.png'
                                },
                                {
                                    id: '2',
                                    value: '人工喉实验室',
                                    labelImg: './img/btq2.png'
                                },
                                {
                                    id: '3',
                                    value: '电镜楼',
                                    labelImg: './img/btq3.png'
                                },
                                {
                                    id: '4',
                                    value: '教学一楼',
                                    labelImg: './img/btq4.png'
                                },
                                {
                                    id: '5',
                                    value: '教学二楼',
                                    labelImg: './img/btq5.png'
                                },
                                {
                                    id: '6',
                                    value: '教学四楼',
                                    labelImg: './img/btq6.png'
                                },
                                {
                                    id: '7',
                                    value: '教学八楼',
                                    labelImg: './img/btq7.png'
                                },
                                {
                                    id: '8',
                                    value: '操场',
                                    labelImg: './img/btq8.png'
                                },
                                {
                                    id: '9',
                                    value: '6号学生公寓',
                                    labelImg: './img/btq9.png'
                                },
                                {
                                    id: '10',
                                    value: '体育馆',
                                    labelImg: './img/btq10.png'
                                },
                                {
                                    id: '11',
                                    value: '白求恩雕塑',
                                    labelImg: './img/btq11.png'
                                },
                                {
                                    id: '12',
                                    value: '教学七楼',
                                    labelImg: './img/btq12.png'
                                },
                                {
                                    id: '13',
                                    value: '中央喷泉',
                                    labelImg: './img/btq13.png'
                                },
                                {
                                    id: '14',
                                    value: '教学五楼',
                                    labelImg: './img/btq14.png'
                                },
                                {
                                    id: '15',
                                    value: '李时珍雕像',
                                    labelImg: './img/btq15.png'
                                },
                                {
                                    id: '16',
                                    value: '图书馆',
                                    labelImg: './img/btq16.png'
                                },
                                {
                                    id: '17',
                                    value: '杏园餐厅',
                                    labelImg: './img/btq17.png'
                                },
                                {
                                    id: '18',
                                    value: '口腔医学院楼',
                                    labelImg: './img/btq18.png'
                                },
                                {
                                    id: '19',
                                    value: '公共卫生学院楼',
                                    labelImg: './img/btq19.png'
                                },
                                {
                                    id: '20',
                                    value: '综合科研楼',
                                    labelImg: './img/btq20.png'
                                }
                            ],
                            studentPath1: [
                                [36.6548811764374,117.0165767192616],
                                [36.65440552931216, 117.01659876063422],
                                [36.65424609378286,117.0165595887695],
                                [36.65393360194416,117.01650675691542],
                                [36.65353182124665,117.01650942858225],
                                [36.653011475865206,117.0165237557892],
                                [36.65251923478745,117.0165535636745],
                                [36.65252656446632,117.01660388551659],
                                [36.65180510868762,117.01663999425784],
                                [36.651868466597136,117.01789512198627],
                                [36.65155449920319,117.0179397049792],
                                [36.65143581050216,117.0179348035058],
                                [36.64971481456967,117.01793336000969],
                                [36.64972720525231,117.01970325897366],
                                [36.65056492303282,117.01968420946037],
                                [36.651135446045714,117.01964907766205],
                                [36.65192392392333,117.0196402452525],
                                [36.65187387873859,117.01843477020543],
                                [36.65263003527874,117.01837315936245],
                                [36.65267629565246,117.01890889577544],
                                [36.653146274662326,117.01888879596913],
                                [36.65319945421057,117.02024410655258],
                                [36.65414499139987,117.02014851082117],
                                [36.65468968518601, 117.02010614784012],
                                [36.654508633929304,117.01869031900117],
                                [36.654493082276744,117.01828111668704],
                                [36.65463207364102,117.01810578536833],
                                [36.65459629567664,117.0173995115897]
                            ],
                            studentPointArr1: [
                                {
                                    id: '1',
                                    value: '西北门',
                                    labelImg: './img/btq1.png'
                                },
                                {
                                    id: '2',
                                    value: '教学一楼',
                                    labelImg: './img/btq4.png'
                                },
                                {
                                    id: '3',
                                    value: '教学三楼(伯根楼)',
                                    labelImg: './img/btqb3.png'
                                },
                                {
                                    id: '4',
                                    value: '教学二楼',
                                    labelImg: './img/btq5.png'
                                },
                                {
                                    id: '5',
                                    value: '教学四楼',
                                    labelImg: './img/btq6.png'
                                },
                                {
                                    id: '6',
                                    value: '教学八楼',
                                    labelImg: './img/btq7.png'
                                },
                                {
                                    id: '7',
                                    value: '操场',
                                    labelImg: './img/btq8.png'
                                },
                                {
                                    id: '8',
                                    value: '体育馆',
                                    labelImg: './img/btq10.png'
                                },
                                {
                                    id: '9',
                                    value: '6号学生公寓',
                                    labelImg: './img/btq9.png'
                                },
                                {
                                    id: '10',
                                    value: '图书馆',
                                    labelImg: './img/btq16.png'
                                },
                                {
                                    id: '11',
                                    value: '杏园餐厅',
                                    labelImg: './img/btq17.png'
                                },
                                {
                                    id: '12',
                                    value: '教学六楼',
                                    labelImg: './img/btqb12.png'
                                },
                                {
                                    id: '13',
                                    value: '综合科研楼',
                                    labelImg: './img/btq20.png'
                                }
                            ]
                        },
                        {
                            id: 9,
                            longitude: 117.454672,
                            latitude: 36.685585
                        },
                        {
                            id: 8,
                            longitude: 120.688292,
                            latitude: 36.365274,
                            level: 15,
                            markerImg: './img/3d-qingdao3.png',
                            leftButton: [36.35474323944951,120.67872220476056],
                            rightTop: [36.37860127524893,120.69462654733957],
                            studentPath: [
                                [36.36630117612411,120.68475608786389],
                                [36.36626674865837, 120.68515512769818],
                                [36.36527801037312,120.68504557566507],
                                [36.365289898835925,120.68584292170408],
                                [36.36195598940242,120.68585502705207],
                                [36.36195204659135,120.68797998647221],
                                [36.36530946661501,120.68799157954663],
                                [36.365323058172734,120.68813113623332],
                                [36.36714066266853,120.6881582615506],
                                [36.367132994473174,120.6894866577594],
                                [36.365337110123335,120.68947278418864],
                                [36.365334724561066,120.69201680464153],
                                [36.36463726535359,120.69199116235473],
                                [36.364617547854834,120.68888382047862],
                                [36.364335178903424,120.6888758023515],
                                [36.36432739209894,120.69197508491732],
                                [36.36354952587153,120.69197491775526],
                                [36.363599783406045,120.68881934633885],
                                [36.3626046556673,120.6888234833607],
                                [36.362563440309536,120.69195135066877],
                                [36.359915400922475,120.69188580409173],
                                [36.359939598744475,120.68875942818772],
                                [36.35789578024594,120.68871041311672],
                                [36.35791306080945,120.68639304852718],
                                [36.357282464916075,120.68635954484421]
                            ],
                            studentPointArr: [
                                {
                                    id: '1',
                                    value: '西门',
                                    labelImg: './img/qd1.png'
                                },
                                {
                                    id: '2',
                                    value: '华岗苑',
                                    labelImg: './img/qd2.png'
                                },
                                {
                                    id: '3',
                                    value: '振声苑',
                                    labelImg: './img/qd3.png'
                                },
                                {
                                    id: '4',
                                    value: '第周苑A',
                                    labelImg: './img/qd4.png'
                                },
                                {
                                    id: '5',
                                    value: '淦昌苑A',
                                    labelImg: './img/qd5.png'
                                },
                                {
                                    id: '6',
                                    value: '图书馆',
                                    labelImg: './img/qd6.png'
                                },
                                {
                                    id: '7',
                                    value: '淦昌苑C',
                                    labelImg: './img/qd7.png'
                                },
                                {
                                    id: '8',
                                    value: '淦昌苑B',
                                    labelImg: './img/qd8.png'
                                },
                                {
                                    id: '9',
                                    value: '淦昌苑F',
                                    labelImg: './img/qd9.png'
                                },
                                {
                                    id: '10',
                                    value: '淦昌苑E',
                                    labelImg: './img/qd10.png'
                                },
                                {
                                    id: '12',
                                    value: '第周苑B',
                                    labelImg: './img/qd11.png'
                                },
                                {
                                    id: '11',
                                    value: '第周苑C',
                                    labelImg: './img/qd12.png'
                                },
                                {
                                    id: '13',
                                    value: '第周苑F',
                                    labelImg: './img/qd13.png'
                                },
                                {
                                    id: '14',
                                    value: '第周苑E',
                                    labelImg: './img/qd14.png'
                                },
                                {
                                    id: '15',
                                    value: '第周苑D',
                                    labelImg: './img/qd15.png'
                                },
                                {
                                    id: '16',
                                    value: '曦园餐厅',
                                    labelImg: './img/qd16.png'
                                },
                                {
                                    id: '17',
                                    value: '凤凰居2号楼',
                                    labelImg: './img/qd17.png'
                                },
                                {
                                    id: '18',
                                    value: '凤凰居1号楼',
                                    labelImg: './img/qd18.png'
                                },
                                {
                                    id: '19',
                                    value: '凤凰居5号楼',
                                    labelImg: './img/qd19.png'
                                },
                                {
                                    id: '20',
                                    value: '南门',
                                    labelImg: './img/qd20.png'
                                }
                            ],
                            studentPath1: [
                                [36.36630117612411,120.68475608786389],
                                [36.36626674865837, 120.68515512769818],
                                [36.36527801037312,120.68504557566507],
                                [36.365289898835925,120.68584292170408],
                                [36.365336446586475,120.68812152712621],
                                [36.36714232810004,120.68816515775006],
                                [36.36714580149486,120.6894792382634],
                                [36.36535918742393,120.68948752602432],
                                [36.3653501279319,120.69201551503284],
                                [36.36354403207268,120.69199978444738],
                                [36.36362702029733,120.68803028044192],
                                [36.36192955480285,120.68799022931228],
                                [36.36191777445758,120.69202891512509],
                                [36.35994683679055,120.69197725918173],
                                [36.3598340023698,120.68642990767023]
                            ],
                            studentPointArr1: [
                                {
                                    id: '1',
                                    value: '西门',
                                    labelImg: './img/qd1.png'
                                },
                                {
                                    id: '2',
                                    value: '华岗苑',
                                    labelImg: './img/qd2.png'
                                },
                                {
                                    id: '3',
                                    value: '图书馆',
                                    labelImg: './img/qd6.png'
                                },
                                {
                                    id: '4',
                                    value: '淦昌苑C',
                                    labelImg: './img/qd7.png'
                                },
                                {
                                    id: '5',
                                    value: '淦昌苑E',
                                    labelImg: './img/qd10.png'
                                },
                                {
                                    id: '6',
                                    value: '第周苑A',
                                    labelImg: './img/qd4.png'
                                },
                                {
                                    id: '7',
                                    value: '第周苑F',
                                    labelImg: './img/qd13.png'
                                },
                                {
                                    id: '8',
                                    value: '第周苑E',
                                    labelImg: './img/qd14.png'
                                },
                                {
                                    id: '9',
                                    value: '曦园餐厅',
                                    labelImg: './img/qd16.png'
                                },
                                {
                                    id: '10',
                                    value: '博物馆',
                                    labelImg: './img/qd21.png'
                                }
                            ]
                        },
                        {
                            id: 7,
                            longitude: 122.058225,
                            latitude: 37.532313,
                            level: 15,
                            markerImg: './img/3d-weihai5.png',
                            leftButton: [37.525433980199104,122.05126545021949],
                            rightTop: [37.540273,122.066018],
                            studentPath: [
                                [37.52617874571082,122.06023337846068],
                                [37.52746371956398,122.06018572388996],
                                [37.527468784064226,122.05982734489498],
                                [37.52759860662129,122.05937201299275],
                                [37.52754307643706,122.05907702444006],
                                [37.5274483656336,122.05889164951122],
                                [37.527446081266945,122.05855872002792],
                                [37.52751027521946,122.0584919862439],
                                [37.527484084494596,122.05819412486903],
                                [37.528005833230985,122.05816273086134],
                                [37.527815486776404,122.05643466324955],
                                [37.53021344961189,122.05614730169304],
                                [37.53028122512706,122.05667438074283],
                                [37.53301469935005,122.05636153701903],
                                [37.533255603806325,122.05600771608408],
                                [37.53433272643936,122.0560189546768],
                                [37.534290473195114,122.05832542927294],
                                [37.53391052472376,122.05881493051504],
                                [37.53232266228721,122.05878726894935],
                                [37.53229510487627,122.06145616167294],
                                [37.531734476333675,122.06146545344245],
                                [37.53172562172209,122.06217987963328],
                                [37.529758341597336,122.06215262417084],
                                [37.52962746058908,122.06055461187157],
                                [37.528381820349495,122.06055432879157],
                                [37.528291948502414,122.06053327139284],
                                [37.52813390123307,122.06042850218614],
                                [37.52772709807907,122.060234920536]
                            ],
                            studentPointArr: [
                                {
                                    id: '1',
                                    value: '威海校区南门',
                                    labelImg: './img/wh1.png'
                                },
                                {
                                    id: '2',
                                    value: '威海校区文心湖',
                                    labelImg: './img/wh2.png'
                                },
                                {
                                    id: '3',
                                    value: '湖西楼',
                                    labelImg: './img/wh3.png'
                                },
                                {
                                    id: '4',
                                    value: '学19-22号楼',
                                    labelImg: './img/wh4.png'
                                },
                                {
                                    id: '5',
                                    value: '学17号楼',
                                    labelImg: './img/wh5.png'
                                },
                                {
                                    id: '6',
                                    value: '学14号楼',
                                    labelImg: './img/wh6.png'
                                },
                                {
                                    id: '7',
                                    value: '荟园餐厅',
                                    labelImg: './img/wh7.png'
                                },
                                {
                                    id: '8',
                                    value: '馨园餐厅',
                                    labelImg: './img/wh8.png'
                                },
                                {
                                    id: '9',
                                    value: '泰园餐厅',
                                    labelImg: './img/wh9.png'
                                },
                                {
                                    id: '10',
                                    value: '学6号楼',
                                    labelImg: './img/wh10.png'
                                },
                                {
                                    id: '11',
                                    value: '学7号楼',
                                    labelImg: './img/wh11.png'
                                },
                                {
                                    id: '12',
                                    value: '学3号楼',
                                    labelImg: './img/wh12.png'
                                },
                                {
                                    id: '13',
                                    value: '威海校区羽毛球馆',
                                    labelImg: './img/wh13.png'
                                },
                                {
                                    id: '14',
                                    value: '威海校区体育馆',
                                    labelImg: './img/wh14.png'
                                },
                                {
                                    id: '15',
                                    value: '闻天楼',
                                    labelImg: './img/wh15.png'
                                },
                                {
                                    id: '16',
                                    value: '威海校区操场',
                                    labelImg: './img/wh16.png'
                                },
                                {
                                    id: '17',
                                    value: '电子楼',
                                    labelImg: './img/wh17.png'
                                },
                                {
                                    id: '18',
                                    value: '图书馆',
                                    labelImg: './img/wh18.png'
                                },
                                {
                                    id: '19',
                                    value: '科学实验楼',
                                    labelImg: './img/wh19.png'
                                },
                                {
                                    id: '20',
                                    value: '图书馆前雕塑',
                                    labelImg: './img/wh20.png'
                                },
                                {
                                    id: '21',
                                    value: '商学院楼',
                                    labelImg: './img/wh21.png'
                                },
                                {
                                    id: '22',
                                    value: '海洋学院',
                                    labelImg: './img/wh22.png'
                                },
                            ],
                            studentPath1: [
                                [37.52613450669537,122.06023867498277],
                                [37.52772126921291,122.06019610486624],
                                [37.52814007357835,122.05996551741123],
                                [37.528008005034046,122.05815685391326],
                                [37.53131079347216,122.05780477114035],
                                [37.531877172127594,122.05879985252182],
                                [37.53232643730843,122.05879663661449],
                                [37.53229370604964,122.06145627684873],
                                [37.531742767281486,122.06147411705797],
                                [37.53172279222996,122.06218443863986],
                                [37.529746534473915,122.06215272710926],
                                [37.5296256798112,122.06056099426542],
                                [37.528371787271865,122.06055170024956],
                                [37.528277496502966,122.06052904591934],
                                [37.52813626943185,122.06042173698188],
                                [37.528123474903595,122.06212400375034],
                                [37.5278397309787,122.06212296243052],
                                [37.527836768330104,122.06159182187912],
                                [37.527357581428284,122.06158916301649]
                            ],
                            studentPointArr1: [
                                {
                                    id: '1',
                                    value: '威海校区南门',
                                    labelImg: './img/wh1.png'
                                },
                                {
                                    id: '2',
                                    value: '威海校区文心湖',
                                    labelImg: './img/wh2.png'
                                },
                                {
                                    id: '3',
                                    value: '馨园餐厅',
                                    labelImg: './img/wh8.png'
                                },
                                {
                                    id: '4',
                                    value: '学9号楼',
                                    labelImg: './img/whb4.png'
                                },
                                {
                                    id: '5',
                                    value: '雀园餐厅',
                                    labelImg: './img/whb5.png'
                                },
                                {
                                    id: '6',
                                    value: '电子楼',
                                    labelImg: './img/wh17.png'
                                },
                                {
                                    id: '7',
                                    value: '图书馆',
                                    labelImg: './img/wh18.png'
                                },
                                {
                                    id: '8',
                                    value: '文学楼',
                                    labelImg: './img/whb8.png'
                                },
                                {
                                    id: '9',
                                    value: '科学实验楼',
                                    labelImg: './img/wh19.png'
                                },
                                {
                                    id: '10',
                                    value: '图书馆前雕塑',
                                    labelImg: './img/wh20.png'
                                },
                                {
                                    id: '11',
                                    value: '海洋学院',
                                    labelImg: './img/wh22.png'
                                },
                                {
                                    id: '12',
                                    value: '知行楼',
                                    labelImg: './img/whb12.png'
                                },
                            ]
                        }
                    ],
                    campusId: '',
                    campusName: '',
                    longitude: '',
                    latitude: '',
                    campusPicture: '',
                    latLngArray: [],
                    latLngArrayStudent: [],
                    selectedPointArray: [],
                    dataList: [],
                    isShowDialog: true,
                    labelsArr: [
                        {
                            id: '1',
                            label: '校园风光'
                        },
                        {
                            id: '2',
                            label: '自然景观'
                        },
                        {
                            id: '3',
                            label: '打卡胜地'
                        }
                    ],
                    timer: '',
                    distance: '',
                    allDataArr: [], // 需要展示的所有按序号排列的数据，
                    selectedIndex: 0,
                    withDistance: '',
                    timerArr: [
                        {
                            id: 1,
                            timer: [
                                {
                                    index: 0,
                                    value: '2.5小时'
                                },
                                {
                                    index: 1,
                                    value: '2小时'
                                }
                            ]
                        },
                        {
                            id: 2,
                            timer: [
                                {
                                    index: 0,
                                    value: '2小时'
                                },
                                {
                                    index: 1,
                                    value: '1.5小时'
                                }
                            ]
                        },
                        {
                            id: 3,
                            timer: [
                                {
                                    index: 0,
                                    value: '2小时'
                                },
                                {
                                    index: 1,
                                    value: '1.5小时'
                                }
                            ]
                        },
                        {
                            id: 4,
                            timer: [
                                {
                                    index: 0,
                                    value: '2.5小时'
                                },
                                {
                                    index: 1,
                                    value: '2小时'
                                }
                            ]
                        },
                        {
                            id: 5,
                            timer: [
                                {
                                    index: 0,
                                    value: '2.5小时'
                                },
                                {
                                    index: 1,
                                    value: '2小时'
                                }
                            ]
                        },
                        {
                            id: 6,
                            timer: [
                                {
                                    index: 0,
                                    value: '1小时'
                                },
                                {
                                    index: 1,
                                    value: '1小时'
                                }
                            ]
                        },
                        {
                            id: 7,
                            timer: [
                                {
                                    index: 0,
                                    value: '3小时'
                                },
                                {
                                    index: 1,
                                    value: '2小时'
                                }
                            ]
                        },
                        {
                            id: 8,
                            timer: [
                                {
                                    index: 0,
                                    value: '2小时'
                                },
                                {
                                    index: 1,
                                    value: '2小时'
                                }
                            ]
                        }
                    ],
                    index: null,
                    leftButton: [],
                    rightTop: [],
                    level: 13
                }
            },
            created() {
                this.getSearchVal(); // 得到url中的参数
                this.transformRem();
            },
            mounted() {
                let _this = this;
                var center = new TMap.LatLng(this.latitude, this.longitude);
                this.map = new TMap.Map('mapContaimer', {
                    zoom: _this.level, //设置地图缩放级别
                    center: center, //设置地图中心点坐标
                    viewMode: '3D',
                    baseMap: {			//底图设置（参数为：VectorBaseMap对象）
                        type: 'vector',	//类型：失量底图
                        features: ['base', 'building2d']  
                    }
                });
                var imageSW = new TMap.LatLng(this.leftButton[0], this.leftButton[1]);
                var imageNE = new TMap.LatLng(this.rightTop[0], this.rightTop[1]);
                var imageLatLngBounds = new TMap.LatLngBounds(imageSW, imageNE); // 根据拟覆盖范围的西南角与东北角新建LatLngBounds对象
                var imageGroundLayer = new TMap.ImageGroundLayer({
                    bounds: imageLatLngBounds,
                    src: this.campusPicture, //拟覆盖图片的URL
                    map: this.map,
                    opacity: 1
                });
                this.map.removeControl(TMap.constants.DEFAULT_CONTROL_ID.ZOOM);
                this.drawPioly();
                this.map.on('click', this.clickPoint)
            },
            methods: {
                clickPoint(e) {
                    console.log(e);
                },
                // 返回上一页面
                goToBackPage() {
                    window.location.href=`traceSortPage.html?campusId=${this.campusId}&campusName=${this.campusName}`;
                },
                getSearchVal() {
                    var url = decodeURI(location.search); //获取url中"?"符后的字串
                    var theRequest = new Object();
                    if (url.indexOf('?') != -1) {
                        url = url.substr(1);
                    }
                    if (url) {
                        var strs = url.split('&');
                        for (var i = 0; i < strs.length; i++) {
                            var srtArry = strs[i].split('=');
                            var y = srtArry.shift();
                            theRequest[y] = unescape(srtArry.join('='));
                        }
                    }
                    this.campusId = theRequest.campusId;
                    this.campusName = theRequest.campusName;
                    this.index = theRequest.index;
                    this.getLogAndLat();
                },
                getLogAndLat() {
                    this.lngAndLatList.forEach(item => {
                        if(item.id == this.campusId) {
                            this.level = item.level;
                            this.longitude = item.longitude;
                            this.latitude = item.latitude;
                            this.campusPicture = item.markerImg;
                            this.leftButton = item.leftButton;
                            this.rightTop = item.rightTop;
                            if (this.index == 0) {
                                this.latLngArray = item.studentPath;
                                this.selectedPointArray = item.studentPointArr;
                                this.titleName = this.pageName0;
                            } else {
                                this.latLngArray = item.studentPath1;
                                this.selectedPointArray = item.studentPointArr1;
                                this.titleName = this.pageName;
                            }
                            for(let i = 0; i < this.timerArr.length; i++) {
                                if (this.timerArr[i].id == this.campusId) {
                                    for(let j = 0; j < this.timerArr[i].timer.length; j++) {
                                        if (this.timerArr[i].timer[j].index == this.index) {
                                            this.timer = this.timerArr[i].timer[j].value;
                                            break;
                                        }
                                    }
                                }
                            };
                            console.log(this.timer);
                        }
                    });
                    // 两点之间的路径距离
                    this.getTwoPointDistance();
                    this.latLngArray = this.latLngArray.map( p => {
                        return new TMap.LatLng(p[0],p[1])
                    });
                    this.selectedPointArray.forEach( item => {
                        this.getPointDetailLocation(item.value); // 得到位置点的具体信息
                    })
                },
                transformRem() {
                    var winW = document.documentElement.clientWidth || document.body.clientWidth;
                    document.documentElement.style.fontSize =  (winW *20)/750 + "px"; // 1rem = 10px
                },
                // 画出路径规划
                drawPioly() {
                    var polylineLayer = new TMap.MultiPolyline({
                        id: 'polyline-layer', //图层唯一标识
                        map: this.map,//绘制到目标地图
                        //折线样式定义
                        styles: {
                            'style_blue': new TMap.PolylineStyle({
                                'color': '#f58430', //线填充色
                                'width': 4, //折线宽度
                            })
                        },
                        //折线数据定义
                        geometries: [
                            {//第1条线
                                'id': 'pl_1',//折线唯一标识，删除时使用
                                'styleId': 'style_blue',//绑定样式名
                                'paths': this.latLngArray
                            },
                            
                        ]
                    });
                },
                
                //跳转到微信小程序中的详情页面
                goToWxDetail(){
                    wx.miniProgram.navigateTo({
                        url: '/pages/outDetail/outDetail?current='+JSON.stringify(this.oneDescription)
                    });
                },

                // 跳转到微信小程序中的全景页面
                goToWxAllPic() {
                    let poiName = this.oneDescription.PoiName;
                    let poiID = this.oneDescription.PoiID;
                    let lat = this.oneDescription.latitude;
                    let lng = this.oneDescription.longitude;
                    let campusName = this.oneDescription.campusName;
                    window.location.href=`treePicture.html?campusName=${campusName}&poiID=${poiID}&poiName=${poiName}&lat=${lat}&lng=${lng}&campusId=${this.campusId}`;
                },
                 
                // 跳转到微信小程序的路径规划页面中
                goToWxPath() {
                    let endPoint = this.oneDescription.PoiName;
                    let lat = this.oneDescription.latitude;
                    let lng = this.oneDescription.longitude;
                    wx.miniProgram.navigateTo({
                        url: `/pages/goRouter/goRouter?endPoint=${endPoint}&lat=${lat}&lng=${lng}`
                    });
                },


                // 得到位置点的具体信息
                getPointDetailLocation(val) {
                    let _this = this;
                    let token = localStorage.getItem('token');
                    $.ajax({
                        url: '/poi/getCampusPoiList',
                        type: 'get',
                        dataType: 'json',
                        data: {
                            token: token,
                            ID: this.campusId,
                            keyWord: val
                        },
                        success:function(res) {
                            if (res.recs.length == 1) {
                                _this.dataList.push(res.recs[0])
                            } else if (res.recs.length > 1) {
                                for(let i = 0; i < res.recs.length; i++) {
                                    if (res.recs[i].PoiName == val) {
                                        _this.dataList.push(res.recs[i]);
                                        break
                                    }
                                }
                            }
                            if (_this.dataList.length == _this.selectedPointArray.length) {
                                _this.showNumberInMap();
                            }
                            
                        },
                        error:function(err) {
                            console.log('请求失败');
                        }
                    })
                },

                // 将所有的标记显示在地图上
                showNumberInMap(){
                    let len1 = this.dataList;
                    let len2 = this.selectedPointArray;
                    for(let j = 0; j < len2.length; j++) {
                        for(let i = 0; i < len1.length; i++) {
                            if (len2[j].value == len1[i].PoiName) {
                                this.allDataArr.push(len1[i])
                                let lat = len1[i].latitude;
                                let lng = len1[i].longitude;
                                let poiIndex = len1[i].PoiID;
                                let content = len2[j].id;

                                var center = new TMap.LatLng(lat, lng);//设置中心点坐标
                                var label = new TMap.MultiLabel({
                                    id: poiIndex,
                                    map: this.map, //设置折线图层显示到哪个地图实例中
                                    //文字标记样式
                                    styles: {
                                        'label': new TMap.LabelStyle({
                                            'paddingLeft': 5,
                                            'height': 20,
                                            'width': 20,
                                            'size': 12,
                                            // 'color': 'rgb(155,13,20)',
                                            'color': '#fff',
                                            'backgroundColor': '#f58430',
                                            'borderRadius': 10,
                                            'alignment': 'center',
                                            
                                        })
                                    },
                                    //文字标记数据
                                    geometries: [{
                                        'id': poiIndex, //点图形数据的标志信息
                                        'styleId': 'label', //样式id
                                        'position': center, //标注点位置
                                        'content': content, //标注文本
                                    }]
                                });
                                break;
                            }
                        }
                    }
                },

                goToStart() {
                    this.isShowDialog = false;
                    let index = this.selectedIndex;
                    this.oneDescription = this.allDataArr[this.selectedIndex];
                    let id = this.allDataArr[this.selectedIndex].PoiID;;
                    let lat = this.allDataArr[this.selectedIndex].latitude;
                    let lng = this.allDataArr[this.selectedIndex].longitude;

                    let labelImg;
                    for(let i = 0; i < this.selectedPointArray.length; i++) {
                        if (this.selectedPointArray[i].id == index + 1) {
                            labelImg = this.selectedPointArray[i].labelImg;
                            break;
                        }
                    };

                    console.log('这是处理距离的函数');
                    var geolocation = new qq.maps.Geolocation("BPQBZ-XU3L6-B7RS3-MNX25-UZBV2-WDBVF", "myapp");  // xx-xx-xx-xx为开发密钥，腾讯位置服务申请 http://lbs.qq.com/guides/startup.html
                    console.log(geolocation);
                    if (geolocation) {
                        geolocation.getLocation((position) => {
                            let lat1 = position.lat;
                            let lng1 = position.lng;
                            let startPoi = new TMap.LatLng(lat1, lng1);
                            let endPoi = new TMap.LatLng(lat, lng);
                            let path = [startPoi, endPoi];
                            var dis = TMap.geometry.computeDistance(path);
                            this.withDistance = (Math.round(dis/100)/10).toFixed(1) + "公里";
                            // if (dis < 1000) {
                            //     this.withDistance = dis.toFixed(0) + '米';
                            // } else {
                            //     this.withDistance = (Math.round(dis/100)/10).toFixed(1) + "公里"
                            // }
                        }, this.error);
                    } else {
                        console.log('不支持');
                    }

                    let center = new TMap.LatLng(lat, lng);
                    this.marker = new TMap.MultiMarker({
                        id: `demo${this.selectedIndex}`,
                        map: this.map,
                        styles: {
                            "marker": new TMap.MarkerStyle({
                                "width": 80,
                                "height": 90,
                                "src": labelImg
                            })
                        },
                        geometries: [{
                            id: `demo${this.selectedIndex}`,
                            styleId: 'marker',
                            position: center,
                            properties: {
                                "title": "marker"
                            }
                        }]
                    });
                    this.map.setCenter(center);
                },

                vuetouch:function(s,e){
                    if (s.name == '左滑') {
                        this.selectedIndex++;
                        if (this.selectedIndex == this.allDataArr.length) {
                            this.selectedIndex--;
                        }
                    } else if (s.name == '右滑') {
                        this.selectedIndex--;
                        if (this.selectedIndex == -1) {
                            this.selectedIndex++;
                        }
                    }

                    if (this.marker) {
                        this.marker.setMap(null);
                        this.marker = null;
                    }
                    this.oneDescription = this.allDataArr[this.selectedIndex];
                    let lat = this.allDataArr[this.selectedIndex].latitude;
                    let lng = this.allDataArr[this.selectedIndex].longitude;

                    let index = this.selectedIndex;
                    let labelImg;
                    for(let i = 0; i < this.selectedPointArray.length; i++) {
                        if (this.selectedPointArray[i].id == index + 1) {
                            labelImg = this.selectedPointArray[i].labelImg;
                            break;
                        }
                    }

                    var geolocation = new qq.maps.Geolocation("BPQBZ-XU3L6-B7RS3-MNX25-UZBV2-WDBVF", "myapp");  // xx-xx-xx-xx为开发密钥，腾讯位置服务申请 http://lbs.qq.com/guides/startup.html
                    if (geolocation) {
                        geolocation.getLocation((position) => {
                            let lat1 = position.lat;
                            let lng1 = position.lng;
                            let startPoi = new TMap.LatLng(lat1, lng1);
                            let endPoi = new TMap.LatLng(lat, lng);
                            let path = [startPoi, endPoi];
                            var dis = TMap.geometry.computeDistance(path);
                            this.withDistance = (Math.round(dis/100)/10).toFixed(1) + "公里";
                            console.log('这里是计算距离的方法');
                            console.log(this.withDistance);
                            // if (dis < 1000) {
                            //     this.withDistance = dis.toFixed(0) + '米';
                            // } else {
                            //     this.withDistance = (Math.round(dis/100)/10).toFixed(1) + "公里"
                            // }
                        }, this.error);
                    } else {
                        console.log('不支持');
                    }

                    let center = new TMap.LatLng(lat, lng);
                    this.marker = new TMap.MultiMarker({
                        id: `demo${this.selectedIndex}`,
                        map: this.map,
                        styles: {
                            "marker": new TMap.MarkerStyle({
                                "width": 80,
                                "height": 90,
                                "src": labelImg
                            })
                        },
                        geometries: [{
                            "id": `demo${this.selectedIndex}`,
                            "styleId": 'marker',
                            "position": center,
                            "properties": {
                                "title": "marker"
                            }
                        }]
                    });
                    this.map.setCenter(center);
                },

                getTwoPointDistance() {
                    let distance = 0;
                    for(let i = 0; i < this.latLngArray.length-1; i++) {
                        let startPoint = new TMap.LatLng(this.latLngArray[i][0], this.latLngArray[i][1]);
                        let endPoint = new TMap.LatLng(this.latLngArray[i+1][0], this.latLngArray[i+1][1]);
                        let path = [startPoint, endPoint];
                        var dis = TMap.geometry.computeDistance(path);
                        distance += dis;
                    };
                    if (distance < 1000) {
                        this.distance = distance.toFixed(0) + '米';
                    } else {
                        this.distance = (Math.round(distance/100)/10).toFixed(1) + "公里"
                    }
                },
                
                error() {
                    console.log('调用函数发生错误');
                    console.log('失败的回调');
                },
            },
        })

        
        function vueTouch(el,binding,type){
            var _this=this;
            this.obj=el;
            this.binding=binding;
            this.touchType=type;
            this.vueTouches={x:0,y:0};
            this.vueMoves=true;
            this.vueLeave=true;
            this.longTouch=true;
            this.vueCallBack=typeof(binding.value)=="object"?binding.value.fn:binding.value;
            this.obj.addEventListener("touchstart",function(e){
                _this.start(e);
            },false);
            this.obj.addEventListener("touchend",function(e){
                _this.end(e);
            },false);
            this.obj.addEventListener("touchmove",function(e){
                _this.move(e);
            },false);
        };
        vueTouch.prototype={
            start:function(e){
                this.vueMoves=true;
                this.vueLeave=true;
                this.longTouch=true;
                this.vueTouches={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY};
                this.time=setTimeout(function(){
                    if(this.vueLeave&&this.vueMoves){
                        this.touchType=="longtap"&&this.vueCallBack(this.binding.value,e);
                        this.longTouch=false;
                    };
                }.bind(this),1000);
            },
            end:function(e){
                var disX=e.changedTouches[0].pageX-this.vueTouches.x;
                var disY=e.changedTouches[0].pageY-this.vueTouches.y;
                clearTimeout(this.time);
                if(Math.abs(disX)>10||Math.abs(disY)>100){
                    this.touchType=="swipe"&&this.vueCallBack(this.binding.value,e);
                    if(Math.abs(disX)>Math.abs(disY)){
                        if(disX>10){
                            this.touchType=="swiperight"&&this.vueCallBack(this.binding.value,e);
                        };
                        if(disX<-10){
                            this.touchType=="swipeleft"&&this.vueCallBack(this.binding.value,e);
                        };
                    }else{
                        if(disY>10){
                            this.touchType=="swipedown"&&this.vueCallBack(this.binding.value,e);
                        };
                        if(disY<-10){
                            this.touchType=="swipeup"&&this.vueCallBack(this.binding.value,e);
                        }; 
                    };
                }else{
                    if(this.longTouch&&this.vueMoves){
                        this.touchType=="tap"&&this.vueCallBack(this.binding.value,e);
                        this.vueLeave=false
                    };
                };
            },
            move:function(e){
                this.vueMoves=false;
            }
        };
        Vue.directive("tap",{
            bind:function(el,binding){
                new vueTouch(el,binding,"tap");
            }
        });
        Vue.directive("swipe",{
            bind:function(el,binding){
                new vueTouch(el,binding,"swipe");
            }
        });
        Vue.directive("swipeleft",{
            bind:function(el,binding){
                new vueTouch(el,binding,"swipeleft");
            }
        });
        Vue.directive("swiperight",{
            bind:function(el,binding){
                new vueTouch(el,binding,"swiperight");
            }
        });
        Vue.directive("swipedown",{
            bind:function(el,binding){
                new vueTouch(el,binding,"swipedown");
            }
        });
        Vue.directive("swipeup",{
            bind:function(el,binding){
                new vueTouch(el,binding,"swipeup");
            }
        });
        Vue.directive("longtap",{
            bind:function(el,binding){
                new vueTouch(el,binding,"longtap");
            }
        });
    </script>
</body>
</html>